
==== Testing FST (32-bit float) ====
Original: 0
Stored:   0
[TEST] Value stored correctly                   PASS
Original: -0
Stored:   -0
[TEST] Value stored correctly                   PASS
Original: 1
Stored:   1
[TEST] Value stored correctly                   PASS
Original: -1
Stored:   -1
[TEST] Value stored correctly                   PASS
Original: 3.40282346638529e+38
Stored:   3.40282346638529e+38
[TEST] Value stored correctly                   PASS
Original: -3.40282346638529e+38
Stored:   -3.40282346638529e+38
[TEST] Value stored correctly                   PASS
Original: 1.17549435082229e-38
Stored:   1.17549435082229e-38
[TEST] Value stored correctly                   PASS
Original: -1.17549435082229e-38
Stored:   -1.17549435082229e-38
[TEST] Value stored correctly                   PASS
Original: inf
Stored:   inf
[TEST] Value stored correctly                   PASS
Original: -inf
Stored:   -inf
[TEST] Value stored correctly                   PASS
Original: nan
Stored:   nan
[TEST] NaN value stored correctly               PASS
Original: -nan
Stored:   -nan
[TEST] NaN value stored correctly               PASS

==== Testing FST (64-bit double) ====

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 0
Stored:   0
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -0
Stored:   -0
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 1
Stored:   1
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -1
Stored:   -1
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 1.79769313486232e+308
Stored:   1.79769313486232e+308
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -1.79769313486232e+308
Stored:   -1.79769313486232e+308
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 2.2250738585072e-308
Stored:   2.2250738585072e-308
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -2.2250738585072e-308
Stored:   -2.2250738585072e-308
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: inf
Stored:   inf
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -inf
Stored:   -inf
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: nan
Stored:   nan
[TEST] NaN value stored correctly               PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: -nan
Stored:   -nan
[TEST] NaN value stored correctly               PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 3.14159265358979
Stored:   3.14159265358979
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x3800
Top: 7
C0: 0, C1: 0, C2: 0, C3: 0
Original: 2.71828182845905
Stored:   2.71828182845905
[TEST] Value stored correctly                   PASS

==== Testing FST with Different Rounding Modes ====

Mode: Nearest (CW=0x037F)
Value:   1.50 => Stored:   1.50
Value:  -1.50 => Stored:  -1.50
Value:   2.50 => Stored:   2.50
Value:  -2.50 => Stored:  -2.50
Value:   1.25 => Stored:   1.25
Value:  -1.25 => Stored:  -1.25

Mode: Down (CW=0x077F)
Value:   1.50 => Stored:   1.50
Value:  -1.50 => Stored:  -1.50
Value:   2.50 => Stored:   2.50
Value:  -2.50 => Stored:  -2.50
Value:   1.25 => Stored:   1.25
Value:  -1.25 => Stored:  -1.25

Mode: Up (CW=0x0B7F)
Value:   1.50 => Stored:   1.50
Value:  -1.50 => Stored:  -1.50
Value:   2.50 => Stored:   2.50
Value:  -2.50 => Stored:  -2.50
Value:   1.25 => Stored:   1.25
Value:  -1.25 => Stored:  -1.25

Mode: Truncate (CW=0x0F7F)
Value:   1.50 => Stored:   1.50
Value:  -1.50 => Stored:  -1.50
Value:   2.50 => Stored:   2.50
Value:  -2.50 => Stored:  -2.50
Value:   1.25 => Stored:   1.25
Value:  -1.25 => Stored:  -1.25

==== Testing FST with Integers ====
Original:      0 => Stored:      0
[TEST] 16-bit integer stored correctly          PASS
Original:      1 => Stored:      1
[TEST] 16-bit integer stored correctly          PASS
Original:     -1 => Stored:     -1
[TEST] 16-bit integer stored correctly          PASS
Original:  32767 => Stored:  32767
[TEST] 16-bit integer stored correctly          PASS
Original: -32768 => Stored: -32768
[TEST] 16-bit integer stored correctly          PASS
Original:           0 => Stored:           0
[TEST] 32-bit integer stored correctly          PASS
Original:           1 => Stored:           1
[TEST] 32-bit integer stored correctly          PASS
Original:          -1 => Stored:          -1
[TEST] 32-bit integer stored correctly          PASS
Original:  2147483647 => Stored:  2147483647
[TEST] 32-bit integer stored correctly          PASS
Original: -2147483648 => Stored: -2147483648
[TEST] 32-bit integer stored correctly          PASS

==== Testing FST Boundary Values ====

Test 1: Minimum denormal (default rounding)
Original: 5.87747175411144e-39
Stored:   5.87747175411144e-39
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3802
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 2: Maximum denormal (round down)
Original: 5.87747175411143e-39
Stored:   5.87747175411143e-39
Exceptions: 0x0
Control Word: 0x077F
Status Word: 0x3802
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 3: Minimum normal (round up)
Original: 1.17549435082229e-38
Stored:   1.17549435082229e-38
Exceptions: 0x0
Control Word: 0x0B7F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 PASS

Test 4: Maximum normal (truncate)
Original: 3.40282346638528e+38
Stored:   3.40282346638528e+38
Exceptions: 0x0
Control Word: 0x0F7F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 PASS

Test 5: Just below overflow
Original: 3.39942068652608e+38
Stored:   3.39942068652608e+38
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 PASS

Test 6: Just above overflow
Original: inf
Stored:   inf
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 7: Positive infinity
Original: inf
Stored:   inf
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 PASS

Test 8: Negative infinity
Original: -inf
Stored:   -inf
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 PASS

Test 9: Quiet NaN
Original: nan
Stored:   nan
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] NaN value stored correctly               PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 10: Signaling NaN
Original: -nan
Stored:   -nan
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] NaN value stored correctly               PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 11: Denormal with DAZ
Original: 5.87747175411144e-39
Stored:   5.87747175411144e-39
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3802
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 12: Stack underflow
Original: 1
Stored:   1
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

Test 13: Precision loss
Original: 0.333333343267441
Stored:   0.333333343267441
Exceptions: 0x0
Control Word: 0x037F
Status Word: 0x3800
[TEST] Control word unchanged                   PASS
[TEST] Status word matches expected             FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:347
[TEST] Tag word unchanged                       FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:349
[TEST] Value stored correctly                   PASS
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:356

==== Testing FST with Modern CPU Features ====

-- Test 1: With SSE --
MXCSR before: 0x00001F82
MXCSR after:  0x00001F82
[TEST] MXCSR unchanged with FST                 PASS

-- Test 2: With AVX --
XCR0 before: 0x0000000000000207
XCR0 after:  0x0000000000000207
[TEST] XCR0 unchanged with FST                  PASS

==== Testing FST in Multithreaded Context ====

Iteration 1
State 1 stored: 1.23450005054474
[TEST] State 1 value correct                    PASS
[TEST] State 1 control word preserved           PASS
State 2 stored: 2.34559988975524
[TEST] State 2 value correct                    PASS
[TEST] State 2 control word preserved           PASS

Iteration 2
State 1 stored: 1.23450005054474
[TEST] State 1 value correct                    PASS
[TEST] State 1 control word preserved           PASS
State 2 stored: 2.34559988975524
[TEST] State 2 value correct                    PASS
[TEST] State 2 control word preserved           PASS

Iteration 3
State 1 stored: 1.23450005054474
[TEST] State 1 value correct                    PASS
[TEST] State 1 control word preserved           PASS
State 2 stored: 2.34559988975524
[TEST] State 2 value correct                    PASS
[TEST] State 2 control word preserved           PASS

==== Testing FST Status Effects ====

Test 1: Normal value, default rounding
Stored value: 1.23450005054474
Exceptions: 0x0
[TEST] Correct exceptions raised                PASS

Test 2: Denormal value
Stored value: 5.87747175411144e-39
Exceptions: 0x0
[TEST] Correct exceptions raised                FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:200

Test 3: Overflow value
Stored value: inf
Exceptions: 0x0
[TEST] Correct exceptions raised                FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:200

Test 4: NaN value
Stored value: nan
Exceptions: 0x0
[TEST] Correct exceptions raised                FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:200

==== Testing FST Combinations ====

Test 1: Normal value, default rounding
Original: 1.23450005054474
Stored:   1.23450005054474
[TEST] Value stored correctly                   PASS

Test 2: Normal value, round down
Original: 1.23450005054473
Stored:   1.23450005054473
[TEST] Value stored correctly                   PASS

Test 3: Normal value, round up
Original: 1.23450005054474
Stored:   1.23450005054474
[TEST] Value stored correctly                   PASS

Test 4: Normal value, truncate
Original: 1.23450005054473
Stored:   1.23450005054473
[TEST] Value stored correctly                   PASS

Test 5: Denormal value
Original: 5.87747175411144e-39
Stored:   5.87747175411144e-39
[TEST] Value stored correctly                   PASS

Test 6: Large value
Original: 3.39942068652608e+38
Stored:   3.39942068652608e+38
[TEST] Value stored correctly                   PASS

Test 7: Small value
Original: 2.35098870164458e-38
Stored:   2.35098870164458e-38
[TEST] Value stored correctly                   PASS

==== Testing FST Exceptions ====

Test 1: Overflow
Stored value: inf
Exceptions: 0x0
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:471

Test 2: Underflow
Stored value: 5.87747175411144e-39
Exceptions: 0x0
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:471

Test 3: Inexact
Stored value: 0.333333343267441
Exceptions: 0x0
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:471

Test 4: Invalid (NaN)
Stored value: nan
Exceptions: 0x0
[TEST] Correct exception raised                 FAIL
  [FAIL DETAIL] x87/test_x87_fst.c:471

==== Testing FST vs FSTP ====
After FST: TOP=7
After FSTP: TOP=0
[TEST] FST preserves stack                      PASS
[TEST] FSTP modifies stack                      PASS
[TEST] Both store same value                    PASS

==== Testing FST (80-bit float) ====

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 0.00000000000000000000 (0x00000000000000000000)
Stored:   0.00000000000000000000 (0x00000000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -0.00000000000000000000 (0x80000000000000000000)
Stored:   -0.00000000000000000000 (0x80000000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 1.00000000000000000000 (0x3fff8000000000000000)
Stored:   1.00000000000000000000 (0x3fff8000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -1.00000000000000000000 (0xbfff8000000000000000)
Stored:   -1.00000000000000000000 (0xbfff8000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 1189731495357231765021263853030970205169063322294624200440323733891737005522970722616410290336528882853545697807495577314427443153670288434198125573853743678673593200706973263201915918282961524365529510646791086614311790632169778838896134786560600399148753433211454911160088679845154866512852340149773037600009125479393966223151383622417838542743917838138717805889487540575168226347659235576974805113725649020884855222494791399377585026011773549180099796226026859508558883608159846900235645132346594476384939859276456284579661772930407806609229102715046085388087959327781622986827547830768080040150694942303411728957777100335714010559775242124057347007386251660110828379119623008469277200965153500208474470792443848545912886723000619085126472111951361467527633519562927597957250278002980795904193139603021470997035276467445530922022679656280991498232083329641241038509239184734786121921697210543484287048353408113042573002216421348917347174234800714880751002064390517234247656004721768096486107994943415703476320643558624207443504424380566136017608837478165389027809576975977286860071487028287955567141404632615832623602762896316173978484254486860609948270867968048078702511858930838546584223040908805996294594586201903766048446790926002225410530775901065760671347200125846406957030257138960983757998926954553052368560758683179223113639519468850880771872104705203957587480013143131444254943919940175753169339392366881856189129931729104252921236835159922322050998001677102784035360140829296398115122877768135706045789343535451696539561254048846447169786893211671087229088082778350518228857646062218739702851655083720992349483334435228984751232753726636066213902281264706234075352071724058665079518217303463782631353393706774901950197841690441824738063162828586857741432581165364040218402724913393320949219498422442730427019873044536620350262386957804682003601447291997123095530057206141866974852846856186514832715974481203121946751686379343096189615107330065552421485195201762858595091051839472502863871632494167613804996319791441870254302706758495192008837915169401581740046711477877201459644461175204059453504764721807975761111720846273639279600339670470037613374509553184150073796412605047923251661354841291884211340823015473304754067072818763503617332908005951896325207071673904547777129682265206225651439919376804400292380903112437912614776255964694221981375146967079446870358004392507659451618379811859392049544036114915310782251072691486979809240946772142727012404377187409216756613634938900451232351668146089322400697993176017805338191849981933008410985993938760292601390911414526003720284872132411955424282101831204216104467404621635336900583664606591156298764745525068145003932941404131495400677602951005962253022823003631473824681059648442441324864573137437595096416168048024129351876204668135636877532814675538798871771836512893947195335061885003267607354388673368002074387849657014576090349857571243045102038730494854256702479339322809110526041538528994849203991091946129912491633289917998094380337879522093131466946149705939664152375949285890960489916121944989986384837022486672249148924678410206183364627416969576307632480235587975245253737035433882960862753427740016333434055083537048507374544819754722228975281083020898682633020285259923084168054539687911418297629988964576482765287504562854924265165217750799516259669229114977788962356670956627138482018191348321687995863652637620978285070099337294396784639879024914514222742527006363942327998483976739987154418554201562244154926653014515504685489258620276085761837129763358761215382565129633538141663949516556000264159186554850057052611431952919918807954522394649627635630178580896692226406235382898535867595990647008385687123810329591926494846250768992258419305480763620215089022149220528069842018350840586938493815498909445461977893029113576516775406232278298314033473276603952231603422824717528181818844304880921321933550869873395861276073670866652375555675803171490108477320096424318780070008797346032906278943553743564448851907191616455141155761939399690767415156402826543664026760095087523945507341556135867933066031744720924446513532366647649735400851967040771103640538150073486891798364049570606189535005089840913826869535090066783324472578712196604415284924840041850932811908963634175739897166596000759487800619164094854338758520657116541072260996288150123144377944008749301944744330784388995701842710004808305012177123560622895076269042856800047718893158089358515593863176652948089031267747029662545110861548958395087796755464137944895960527975209874813839762578592105756284401759349324162148339565350189196811389091843795734703269406342890087805846940352453479398080674273236297887100867175802531561302356064878709259865288416350972529537091114317204887747405539054009425375424119317944175137064689643861517718849867010341532542385911089624710885385808688837777258648564145934262121086647588489260031762345960769508849149662444156604419552086811989770240.00000000000000000000 (0x7ffeffffffffffffffff)
Stored:   1189731495357231765021263853030970205169063322294624200440323733891737005522970722616410290336528882853545697807495577314427443153670288434198125573853743678673593200706973263201915918282961524365529510646791086614311790632169778838896134786560600399148753433211454911160088679845154866512852340149773037600009125479393966223151383622417838542743917838138717805889487540575168226347659235576974805113725649020884855222494791399377585026011773549180099796226026859508558883608159846900235645132346594476384939859276456284579661772930407806609229102715046085388087959327781622986827547830768080040150694942303411728957777100335714010559775242124057347007386251660110828379119623008469277200965153500208474470792443848545912886723000619085126472111951361467527633519562927597957250278002980795904193139603021470997035276467445530922022679656280991498232083329641241038509239184734786121921697210543484287048353408113042573002216421348917347174234800714880751002064390517234247656004721768096486107994943415703476320643558624207443504424380566136017608837478165389027809576975977286860071487028287955567141404632615832623602762896316173978484254486860609948270867968048078702511858930838546584223040908805996294594586201903766048446790926002225410530775901065760671347200125846406957030257138960983757998926954553052368560758683179223113639519468850880771872104705203957587480013143131444254943919940175753169339392366881856189129931729104252921236835159922322050998001677102784035360140829296398115122877768135706045789343535451696539561254048846447169786893211671087229088082778350518228857646062218739702851655083720992349483334435228984751232753726636066213902281264706234075352071724058665079518217303463782631353393706774901950197841690441824738063162828586857741432581165364040218402724913393320949219498422442730427019873044536620350262386957804682003601447291997123095530057206141866974852846856186514832715974481203121946751686379343096189615107330065552421485195201762858595091051839472502863871632494167613804996319791441870254302706758495192008837915169401581740046711477877201459644461175204059453504764721807975761111720846273639279600339670470037613374509553184150073796412605047923251661354841291884211340823015473304754067072818763503617332908005951896325207071673904547777129682265206225651439919376804400292380903112437912614776255964694221981375146967079446870358004392507659451618379811859392049544036114915310782251072691486979809240946772142727012404377187409216756613634938900451232351668146089322400697993176017805338191849981933008410985993938760292601390911414526003720284872132411955424282101831204216104467404621635336900583664606591156298764745525068145003932941404131495400677602951005962253022823003631473824681059648442441324864573137437595096416168048024129351876204668135636877532814675538798871771836512893947195335061885003267607354388673368002074387849657014576090349857571243045102038730494854256702479339322809110526041538528994849203991091946129912491633289917998094380337879522093131466946149705939664152375949285890960489916121944989986384837022486672249148924678410206183364627416969576307632480235587975245253737035433882960862753427740016333434055083537048507374544819754722228975281083020898682633020285259923084168054539687911418297629988964576482765287504562854924265165217750799516259669229114977788962356670956627138482018191348321687995863652637620978285070099337294396784639879024914514222742527006363942327998483976739987154418554201562244154926653014515504685489258620276085761837129763358761215382565129633538141663949516556000264159186554850057052611431952919918807954522394649627635630178580896692226406235382898535867595990647008385687123810329591926494846250768992258419305480763620215089022149220528069842018350840586938493815498909445461977893029113576516775406232278298314033473276603952231603422824717528181818844304880921321933550869873395861276073670866652375555675803171490108477320096424318780070008797346032906278943553743564448851907191616455141155761939399690767415156402826543664026760095087523945507341556135867933066031744720924446513532366647649735400851967040771103640538150073486891798364049570606189535005089840913826869535090066783324472578712196604415284924840041850932811908963634175739897166596000759487800619164094854338758520657116541072260996288150123144377944008749301944744330784388995701842710004808305012177123560622895076269042856800047718893158089358515593863176652948089031267747029662545110861548958395087796755464137944895960527975209874813839762578592105756284401759349324162148339565350189196811389091843795734703269406342890087805846940352453479398080674273236297887100867175802531561302356064878709259865288416350972529537091114317204887747405539054009425375424119317944175137064689643861517718849867010341532542385911089624710885385808688837777258648564145934262121086647588489260031762345960769508849149662444156604419552086811989770240.00000000000000000000 (0x7ffeffffffffffffffff)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -1189731495357231765021263853030970205169063322294624200440323733891737005522970722616410290336528882853545697807495577314427443153670288434198125573853743678673593200706973263201915918282961524365529510646791086614311790632169778838896134786560600399148753433211454911160088679845154866512852340149773037600009125479393966223151383622417838542743917838138717805889487540575168226347659235576974805113725649020884855222494791399377585026011773549180099796226026859508558883608159846900235645132346594476384939859276456284579661772930407806609229102715046085388087959327781622986827547830768080040150694942303411728957777100335714010559775242124057347007386251660110828379119623008469277200965153500208474470792443848545912886723000619085126472111951361467527633519562927597957250278002980795904193139603021470997035276467445530922022679656280991498232083329641241038509239184734786121921697210543484287048353408113042573002216421348917347174234800714880751002064390517234247656004721768096486107994943415703476320643558624207443504424380566136017608837478165389027809576975977286860071487028287955567141404632615832623602762896316173978484254486860609948270867968048078702511858930838546584223040908805996294594586201903766048446790926002225410530775901065760671347200125846406957030257138960983757998926954553052368560758683179223113639519468850880771872104705203957587480013143131444254943919940175753169339392366881856189129931729104252921236835159922322050998001677102784035360140829296398115122877768135706045789343535451696539561254048846447169786893211671087229088082778350518228857646062218739702851655083720992349483334435228984751232753726636066213902281264706234075352071724058665079518217303463782631353393706774901950197841690441824738063162828586857741432581165364040218402724913393320949219498422442730427019873044536620350262386957804682003601447291997123095530057206141866974852846856186514832715974481203121946751686379343096189615107330065552421485195201762858595091051839472502863871632494167613804996319791441870254302706758495192008837915169401581740046711477877201459644461175204059453504764721807975761111720846273639279600339670470037613374509553184150073796412605047923251661354841291884211340823015473304754067072818763503617332908005951896325207071673904547777129682265206225651439919376804400292380903112437912614776255964694221981375146967079446870358004392507659451618379811859392049544036114915310782251072691486979809240946772142727012404377187409216756613634938900451232351668146089322400697993176017805338191849981933008410985993938760292601390911414526003720284872132411955424282101831204216104467404621635336900583664606591156298764745525068145003932941404131495400677602951005962253022823003631473824681059648442441324864573137437595096416168048024129351876204668135636877532814675538798871771836512893947195335061885003267607354388673368002074387849657014576090349857571243045102038730494854256702479339322809110526041538528994849203991091946129912491633289917998094380337879522093131466946149705939664152375949285890960489916121944989986384837022486672249148924678410206183364627416969576307632480235587975245253737035433882960862753427740016333434055083537048507374544819754722228975281083020898682633020285259923084168054539687911418297629988964576482765287504562854924265165217750799516259669229114977788962356670956627138482018191348321687995863652637620978285070099337294396784639879024914514222742527006363942327998483976739987154418554201562244154926653014515504685489258620276085761837129763358761215382565129633538141663949516556000264159186554850057052611431952919918807954522394649627635630178580896692226406235382898535867595990647008385687123810329591926494846250768992258419305480763620215089022149220528069842018350840586938493815498909445461977893029113576516775406232278298314033473276603952231603422824717528181818844304880921321933550869873395861276073670866652375555675803171490108477320096424318780070008797346032906278943553743564448851907191616455141155761939399690767415156402826543664026760095087523945507341556135867933066031744720924446513532366647649735400851967040771103640538150073486891798364049570606189535005089840913826869535090066783324472578712196604415284924840041850932811908963634175739897166596000759487800619164094854338758520657116541072260996288150123144377944008749301944744330784388995701842710004808305012177123560622895076269042856800047718893158089358515593863176652948089031267747029662545110861548958395087796755464137944895960527975209874813839762578592105756284401759349324162148339565350189196811389091843795734703269406342890087805846940352453479398080674273236297887100867175802531561302356064878709259865288416350972529537091114317204887747405539054009425375424119317944175137064689643861517718849867010341532542385911089624710885385808688837777258648564145934262121086647588489260031762345960769508849149662444156604419552086811989770240.00000000000000000000 (0xfffeffffffffffffffff)
Stored:   -1189731495357231765021263853030970205169063322294624200440323733891737005522970722616410290336528882853545697807495577314427443153670288434198125573853743678673593200706973263201915918282961524365529510646791086614311790632169778838896134786560600399148753433211454911160088679845154866512852340149773037600009125479393966223151383622417838542743917838138717805889487540575168226347659235576974805113725649020884855222494791399377585026011773549180099796226026859508558883608159846900235645132346594476384939859276456284579661772930407806609229102715046085388087959327781622986827547830768080040150694942303411728957777100335714010559775242124057347007386251660110828379119623008469277200965153500208474470792443848545912886723000619085126472111951361467527633519562927597957250278002980795904193139603021470997035276467445530922022679656280991498232083329641241038509239184734786121921697210543484287048353408113042573002216421348917347174234800714880751002064390517234247656004721768096486107994943415703476320643558624207443504424380566136017608837478165389027809576975977286860071487028287955567141404632615832623602762896316173978484254486860609948270867968048078702511858930838546584223040908805996294594586201903766048446790926002225410530775901065760671347200125846406957030257138960983757998926954553052368560758683179223113639519468850880771872104705203957587480013143131444254943919940175753169339392366881856189129931729104252921236835159922322050998001677102784035360140829296398115122877768135706045789343535451696539561254048846447169786893211671087229088082778350518228857646062218739702851655083720992349483334435228984751232753726636066213902281264706234075352071724058665079518217303463782631353393706774901950197841690441824738063162828586857741432581165364040218402724913393320949219498422442730427019873044536620350262386957804682003601447291997123095530057206141866974852846856186514832715974481203121946751686379343096189615107330065552421485195201762858595091051839472502863871632494167613804996319791441870254302706758495192008837915169401581740046711477877201459644461175204059453504764721807975761111720846273639279600339670470037613374509553184150073796412605047923251661354841291884211340823015473304754067072818763503617332908005951896325207071673904547777129682265206225651439919376804400292380903112437912614776255964694221981375146967079446870358004392507659451618379811859392049544036114915310782251072691486979809240946772142727012404377187409216756613634938900451232351668146089322400697993176017805338191849981933008410985993938760292601390911414526003720284872132411955424282101831204216104467404621635336900583664606591156298764745525068145003932941404131495400677602951005962253022823003631473824681059648442441324864573137437595096416168048024129351876204668135636877532814675538798871771836512893947195335061885003267607354388673368002074387849657014576090349857571243045102038730494854256702479339322809110526041538528994849203991091946129912491633289917998094380337879522093131466946149705939664152375949285890960489916121944989986384837022486672249148924678410206183364627416969576307632480235587975245253737035433882960862753427740016333434055083537048507374544819754722228975281083020898682633020285259923084168054539687911418297629988964576482765287504562854924265165217750799516259669229114977788962356670956627138482018191348321687995863652637620978285070099337294396784639879024914514222742527006363942327998483976739987154418554201562244154926653014515504685489258620276085761837129763358761215382565129633538141663949516556000264159186554850057052611431952919918807954522394649627635630178580896692226406235382898535867595990647008385687123810329591926494846250768992258419305480763620215089022149220528069842018350840586938493815498909445461977893029113576516775406232278298314033473276603952231603422824717528181818844304880921321933550869873395861276073670866652375555675803171490108477320096424318780070008797346032906278943553743564448851907191616455141155761939399690767415156402826543664026760095087523945507341556135867933066031744720924446513532366647649735400851967040771103640538150073486891798364049570606189535005089840913826869535090066783324472578712196604415284924840041850932811908963634175739897166596000759487800619164094854338758520657116541072260996288150123144377944008749301944744330784388995701842710004808305012177123560622895076269042856800047718893158089358515593863176652948089031267747029662545110861548958395087796755464137944895960527975209874813839762578592105756284401759349324162148339565350189196811389091843795734703269406342890087805846940352453479398080674273236297887100867175802531561302356064878709259865288416350972529537091114317204887747405539054009425375424119317944175137064689643861517718849867010341532542385911089624710885385808688837777258648564145934262121086647588489260031762345960769508849149662444156604419552086811989770240.00000000000000000000 (0xfffeffffffffffffffff)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 0.00000000000000000000 (0x00018000000000000000)
Stored:   0.00000000000000000000 (0x00018000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -0.00000000000000000000 (0x80018000000000000000)
Stored:   -0.00000000000000000000 (0x80018000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: inf (0x7fff8000000000000000)
Stored:   inf (0x7fff8000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0500
Top: 0
C0: 1, C1: 0, C2: 1, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -inf (0xffff8000000000000000)
Stored:   -inf (0xffff8000000000000000)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0500
Top: 0
C0: 1, C1: 0, C2: 1, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: nan (0x7fffc000000000000000)
Stored:   nan (0x7fffc000000000000000)
[TEST] NaN value stored correctly               PASS

Before FST:
Tag Word:     0x0100
Top: 0
C0: 1, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: -nan (0xffffc000000000000000)
Stored:   -nan (0xffffc000000000000000)
[TEST] NaN value stored correctly               PASS

Before FST:
Tag Word:     0x0100
Top: 0
C0: 1, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 3.14159265358979323851 (0x4000c90fdaa22168c235)
Stored:   3.14159265358979323851 (0x4000c90fdaa22168c235)
[TEST] Value stored correctly                   PASS

Before FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0

After FST:
Tag Word:     0x0000
Top: 0
C0: 0, C1: 0, C2: 0, C3: 0
Original: 2.71828182845904523543 (0x4000adf85458a2bb4a9b)
Stored:   2.71828182845904523543 (0x4000adf85458a2bb4a9b)
[TEST] Value stored correctly                   PASS

==== Testing FST ST(i) ====
Initial stack:
Tag Word:     0x3000
Top: 6
C0: 0, C1: 0, C2: 0, C3: 0

After FST ST(1):
Tag Word:     0x3000
Top: 6
C0: 0, C1: 0, C2: 0, C3: 0
ST0: 2.34567890000000000010 (0x4000961f9a649ab44bcd)
ST1: 2.34567890000000000010 (0x4000961f9a649ab44bcd)
[TEST] ST1 updated correctly                    PASS
[TEST] ST0 unchanged                            PASS
